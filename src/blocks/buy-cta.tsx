import { memo } from "react";

import {
  Box,
  Button,
  chakra,
  Flex,
  Text,
  ThemingProps,
  ChakraProps,
  useColorModeValue,
  Stack,
  Heading,
} from "@chakra-ui/react";

import { __DEV__ } from "@definitions/utils";

const BuyCTA: React.FC<
  { title: string; body: string; link: string; href: string } & ChakraProps &
    ThemingProps
> = ({ title, body, link, href, colorScheme, ...rest }) => {
  const mouseDownHandler = (event: React.MouseEvent<HTMLButtonElement>) => {
    if (event.button === 0) window.open(href, "_blank");
    if (event.button === 1) window.open(href, "_blank");
  };

  return (
    <Flex pos="relative" {...rest}>
      <Box
        top="0"
        left="0"
        pos="absolute"
        zIndex={0}
        w="full"
        h="full"
        flex="1"
        _before={{
          content: "''",
          display: "block",
          pos: "absolute",
          w: "full",
          h: "full",
          bg: useColorModeValue("whiteAlpha.100", "blackAlpha.800"),
          zIndex: 1,
        }}
      >
        <Pattern />
      </Box>
      <Stack
        spacing={[10, 10, 20]}
        align="center"
        direction={["column", "column", "row"]}
        zIndex={2}
      >
        <Stack align={["center", "center", "start"]} spacing={8}>
          {title && <Heading fontWeight="400">{title}</Heading>}
          {body && (
            <Text align={["center", "center", "start"]} fontSize="xl">
              {body}
            </Text>
          )}
          <Box rounded="xl" bg={`${colorScheme}.400`} h={1} w={16} />
        </Stack>
        {link && href && (
          <Button
            px={8}
            size="lg"
            colorScheme={colorScheme}
            onMouseDown={mouseDownHandler}
          >
            <Text fontWeight="700" fontSize="sm" textTransform="uppercase">
              {link}
            </Text>
          </Button>
        )}
      </Stack>
    </Flex>
  );
};

const Pattern = () => {
  return (
    <chakra.svg
      width="990px"
      height="330px"
      viewBox="0 0 990 330"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M196.328 49.6538C196.328 52.4885 197.454 55.207 199.458 57.2114C201.462 59.2159 204.181 60.3419 207.016 60.3419V49.6538"
        fill="#FF507A"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M384.999 62.024C388.877 62.024 392.021 58.8804 392.021 55.0027C392.021 51.1249 388.877 47.9814 384.999 47.9814C381.122 47.9814 377.978 51.1249 377.978 55.0027C377.978 58.8804 381.122 62.024 384.999 62.024ZM384.999 59.9176C387.714 59.9176 389.914 57.7171 389.914 55.0027C389.914 52.2882 387.714 50.0877 384.999 50.0877C382.285 50.0877 380.085 52.2882 380.085 55.0027C380.085 57.7171 382.285 59.9176 384.999 59.9176Z"
        fill="#BDC8F6"
      />
      <path d="M687 13L702.158 28.1576H687V13Z" fill="#FF567E" />
      <path
        d="M556.579 75.7894L552.789 72L549 75.7894L552.789 79.5788L549 83.3682L552.789 87.1576L556.579 83.3682L560.368 87.1576L564.158 83.3682L560.368 79.5788L564.158 75.7894L560.368 72L556.579 75.7894Z"
        fill="#CCFFDA"
      />
      <path
        d="M788.333 51.9966L785.327 48.9906L782.321 51.9966L785.327 55.0027L782.321 58.0087L785.327 61.0148L788.333 58.0087L791.339 61.0148L794.345 58.0087L791.339 55.0027L794.345 51.9966L791.339 48.9906L788.333 51.9966Z"
        fill="#627CEB"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M54.9979 96.0012C57.3919 96.0012 59.3327 94.0604 59.3327 91.6663C59.3327 89.2722 57.3919 87.3315 54.9979 87.3315C52.6038 87.3315 50.663 89.2722 50.663 91.6663C50.663 94.0604 52.6038 96.0012 54.9979 96.0012ZM54.9979 94.7007C56.6737 94.7007 58.0323 93.3422 58.0323 91.6663C58.0323 89.9905 56.6737 88.6319 54.9979 88.6319C53.322 88.6319 51.9635 89.9905 51.9635 91.6663C51.9635 93.3422 53.322 94.7007 54.9979 94.7007Z"
        fill="#FF7797"
      />
      <path
        d="M75.0077 59.5038L72.5038 57L70 59.5038L72.5038 62.0077L70 64.5115L72.5038 67.0153L75.0077 64.5115L77.5115 67.0153L80.0153 64.5115L77.5115 62.0077L80.0153 59.5038L77.5115 57L75.0077 59.5038Z"
        fill="#76FF9C"
      />
      <path
        d="M891.725 96L905.451 109.725L891.725 123.451L878 109.725L891.725 96Z"
        fill="#FFB4C6"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M727.73 244.46C735.865 244.46 742.46 237.865 742.46 229.73C742.46 221.595 735.865 215 727.73 215C719.595 215 713 221.595 713 229.73C713 237.865 719.595 244.46 727.73 244.46ZM727.73 240.041C733.424 240.041 738.041 235.424 738.041 229.73C738.041 224.035 733.424 219.419 727.73 219.419C722.035 219.419 717.419 224.035 717.419 229.73C717.419 235.424 722.035 240.041 727.73 240.041Z"
        fill="#FFCEB6"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M800.716 184.432C807.739 184.432 813.432 178.739 813.432 171.716C813.432 164.693 807.739 159 800.716 159C793.693 159 788 164.693 788 171.716C788 178.739 793.693 184.432 800.716 184.432ZM800.716 180.618C805.632 180.618 809.618 176.632 809.618 171.716C809.618 166.8 805.632 162.815 800.716 162.815C795.8 162.815 791.815 166.8 791.815 171.716C791.815 176.632 795.8 180.618 800.716 180.618Z"
        fill="#CCFFDA"
      />
      <path
        d="M864.269 229.642H870.354V235.727L859.052 247.029H852.967V240.943L864.269 229.642Z"
        fill="#F2F5FD"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M201.667 282.025C205.545 282.025 208.688 278.881 208.688 275.004C208.688 271.126 205.545 267.982 201.667 267.982C197.789 267.982 194.646 271.126 194.646 275.004C194.646 278.881 197.789 282.025 201.667 282.025ZM201.667 279.919C204.381 279.919 206.582 277.718 206.582 275.004C206.582 272.289 204.381 270.089 201.667 270.089C198.952 270.089 196.752 272.289 196.752 275.004C196.752 277.718 198.952 279.919 201.667 279.919Z"
        fill="#FFB4C6"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M124.021 179.043C127.899 179.043 131.043 175.899 131.043 172.021C131.043 168.144 127.899 165 124.021 165C120.144 165 117 168.144 117 172.021C117 175.899 120.144 179.043 124.021 179.043ZM124.021 176.936C126.736 176.936 128.936 174.736 128.936 172.021C128.936 169.307 126.736 167.106 124.021 167.106C121.307 167.106 119.106 169.307 119.106 172.021C119.106 174.736 121.307 176.936 124.021 176.936Z"
        fill="#BDC8F6"
      />
      <path
        d="M498.452 263.513H506.496V271.557L491.558 286.494H483.514V278.451L498.452 263.513Z"
        fill="#D8DEFA"
      />
      <path
        d="M556.841 286.494C556.841 280.399 559.263 274.554 563.572 270.244C567.882 265.934 573.728 263.513 579.823 263.513L556.841 286.494C562.936 286.494 568.782 284.073 573.092 279.763C577.402 275.453 579.823 269.608 579.823 263.513"
        fill="#CCFFDA"
      />
      <path
        d="M898.329 271.829L895.155 268.655L891.98 271.829L895.155 275.004L891.98 278.178L895.155 281.352L898.329 278.178L901.503 281.352L904.677 278.178L901.503 275.004L904.677 271.829L901.503 268.655L898.329 271.829Z"
        fill="#AEBBF4"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M858.003 309.007C860.214 309.007 862.007 307.214 862.007 305.003C862.007 302.792 860.214 301 858.003 301C855.792 301 854 302.792 854 305.003C854 307.214 855.792 309.007 858.003 309.007ZM858.003 307.806C859.551 307.806 860.806 306.551 860.806 305.003C860.806 303.456 859.551 302.201 858.003 302.201C856.456 302.201 855.201 303.456 855.201 305.003C855.201 306.551 856.456 307.806 858.003 307.806Z"
        fill="#FF8A4F"
      />
    </chakra.svg>
  );
};

if (__DEV__) {
  Pattern.displayName = "Pattern";
}

if (__DEV__) {
  BuyCTA.displayName = "BuyCTA";
}

export default memo(BuyCTA);
